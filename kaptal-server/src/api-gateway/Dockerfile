FROM node:18

ENV PORT=3000

ENV FRONTEND_GATEWAY_KEY=2d54c6da7a32e828487c1973972a265ab2699cf162868340704a52be73f68970
ENV GATEWAY_USERS_KEY=3273459917ac5ef2baefc0033e8ffc8a27c422b65beaf0bbb37ee2680498b15a
ENV GATEWAY_BOOKS_KEY=6d804ea84fc0285e55efd6411cf5e0170d42afd5728f31b735180adeb093a727
ENV USERS_REDIS_KEY=86b58e4478f70bfea5f3a2a8ced6f6e735d7560a2681287e987cb9e6e6f31459
ENV BOOKS_REDIS_KEY=deb86b11de25c2586a4b8d5e87852c9596ae07005090305f28e15e79f08a1ea1
EXPOSE ${PORT}
WORKDIR /app

COPY package.json /app
RUN npm install

COPY . /app

CMD ["npm", "start"]
